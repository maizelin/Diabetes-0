<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>三高智慧照護導航 App - SMART on FHIR</title>
    <script src="https://cdn.jsdelivr.net/npm/fhirclient/build/fhir-client.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    
    <style>
        :root { --primary: #2c3e50; --accent: #3498db; --danger: #e74c3c; --warning: #f39c12; --success: #27ae60; }
        body { font-family: "Segoe UI", "Microsoft JhengHei", sans-serif; background-color: #f0f2f5; margin: 0; color: #333; }
        
        /* Layout */
        .container { max-width: 1100px; margin: 20px auto; display: grid; grid-template-columns: 300px 1fr; gap: 20px; padding: 0 20px; }
        
        /* Sidebar - Patient Info */
        .sidebar { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); height: fit-content; }
        .sidebar h2 { color: var(--primary); font-size: 1.2em; border-left: 4px solid var(--accent); padding-left: 10px; }
        .info-item { margin-bottom: 15px; font-size: 0.95em; }
        .info-label { color: #888; display: block; margin-bottom: 3px; }

        /* Main Content */
        .main-content { display: flex; flex-direction: column; gap: 20px; }
        .header-section { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        
        /* Dashboard Cards */
        .dashboard { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .card { background: white; padding: 20px; border-radius: 12px; border-top: 5px solid #ddd; box-shadow: 0 2px 8px rgba(0,0,0,0.05); transition: 0.3s; }
        .card.danger { border-top-color: var(--danger); }
        .card.warning {