<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>SMART Launching...</title>
    <script src="https://cdn.jsdelivr.net/npm/fhirclient/build/fhir-client.js"></script>
</head>
<body>
    <script>
        FHIR.oauth2.authorize({
            // 1. 請填入您在 Sandbox 註冊 App 時獲得的 Client ID
            "clientId": "your_client_id_here", 

            // 2. 依照 PAS 規範定義精確權限，避免使用 patient/*.*
            "scope": [
                "openid",
                "profile",
                "launch",
                "online_access",
                "patient/Patient.read",
                "patient/Observation.read",
                "patient/Condition.read",
                "patient/ServiceRequest.read" // PAS 規範中最重要的權限：讀取醫囑/請求
            ].join(" "),

            // 3. 授權完後的跳轉目標（剛才做好的智慧判讀頁面）
            "redirectUri": "index.html" 
        });
    </script>
    <div style="text-align: center; margin-top: 50px; font-family: sans-serif;">
        <div class="spinner-border text-primary"></div>
        <h2>正在連線至衛福部 FHIR 伺服器...</h2>
        <p>正在依照 PAS 規範請求臨床資料存取權限</p>
    </div>
</body>
</html>